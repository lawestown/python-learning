# 组合数据类型

## 一、概念

- **序列类型**：是一个元素向量，元素之间存在先后关系，通过序号访问，元素之间不排他。

- **集合类型**：是一个元素集合，元素之间无序，相同元素在集合中唯一存在。

- **映射类型**：是“键-值”数据项的组合，每个元素是一个键值对，表示为(key, value)。

## 二、组成

| 组合数据类型 |                           格式                            |
| :----------: | :-------------------------------------------------------: |
|   序列类型   | 字符串(str)(3.5节)；元组(tuple)(6.1节)；列表(list)(6.2节) |
|   集合类型   |                     集合(set)(6.1节)                      |
|   映射类型   |                     字典(map)(6.4节)                      |

## 三、特点

### 1.序列类型

由于元素之间存在顺序关系，所以序列中可以存在相同数值但位置不同的元素。
    序列类型支持**成员关系操作符（in）、长度计算函数（len()）、分片（[]）**，元素本身也可以是序列类型。

#### （1）tuple(元组)

元组是包含0个或多个数据项的不可变序列类型。元组生成后是固定的，其中任何数据项不能替换或删除。元组类型在表达固定数据项、函数多返回值、多变量同步赋值、循环遍历等情况下十分有用。Python中元组采用逗号和圆括号（可选）来表示。

```python
>>>creature = "cat", "dog", "tiger", "human"
>>>creature
('cat', 'dog', 'tiger', 'human')
>>>color = ("red", 0x001100, "blue", creature)
>>>color
('red', 4352, 'blue', ('cat', 'dog', 'tiger', 'human'))
>>>color[2]
'blue'
>>>color[-1][2]
'tiger'
```

``` python
>>>def func(x):  #函数多返回值
return x, x**3
>>>a, b = 'dog', 'tiger'  #多变量同步赋值
>>>a, b = (b, a)      #多变量同步赋值，括号可省略
>>>import math
>>>for x, y in ((1,0), (2,5), (3,8)):  #循环遍历
        print(math.hypot(x,y))            #求多个坐标值到原点的距离

```

\>>> x = ()             #空元组
\>>>x = tuple()        #空元组
\>>>tuple(range(5))    #将其他迭代对象转换为元组



#### （2）列表

列表则是一个可以修改数据项的序列类型，使用也最灵活

#### （3）序列类型通用操作符和函数

| 操作符               | 描述                                                       |
| -------------------- | ---------------------------------------------------------- |
| x in s               | 如果x是s的元素，返回True，否则返回False                    |
| x not in s           | 如果x不是s的元素，返回True，否则返回False                  |
| s + t                | 连接s和t                                                   |
| s * n 或 n * s       | 将序列s复制n次                                             |
| s[i]                 | 索引，返回序列的第i个元素                                  |
| s[i: j]              | 分片，返回包含序列s第i到j个元素的子序列（不包含第j个元素） |
| s[i: j: k]           | 步骤分片，返回包含序列s第i到j个元素以j为步数的子序列       |
| len(s)               | 序列s的元素个数（长度）                                    |
| min(s)               | 序列s中的最小元素                                          |
| max(s)               | 序列s中的最大元素                                          |
| s.index(x[, i[, j]]) | 序列s中从i开始到j位置中第一次出现元素x的位置               |
| s.count(x)           | 序列s中出现x的总次数                                       |

### 2.集合类型

- 集合类型与数学中集合的概念一致，即包含0个或多个数据项的无序组合。

- 集合中元素不可重复，元素类型只能是固定数据类型，例如：整数、浮点数、字符串、元组等 

- 列表、字典和集合类型本身都是可变数据类型，不能作为集合的元素出现。

- 由于集合是无序组合，它没有索引和位置的概念，不能分片，集合中元素可以动态增加或删除。

- 集合用大括号（{}）表示，元素间用逗号分隔。可以用赋值语句生成一个集合。

  ``` python
  >>>S = {425, "BJUT", (10, "CS"), 424}
  >>>S
  {424, 425, (10, 'CS'), 'BIT'}
  >>>T = {425, "BJUT", (10, "CS"), 424, 425, "BJUT"}
  >>>T
  {424, 425, (10, 'CS'), BJUT'}
  ```

- 由于集合元素是无序的，集合的打印效果与定义顺序可以不一致。由于集合元素独一无二，使用集合类型能够过滤掉重复元素。set(x)函数可以用于生成集合。

  ``` python
  >>>W = set(‘apple’)
  {'e', 'p', 'a', 'l'}
  >>>V = set(("cat", "dog", "tiger", "human"))
  {'cat', 'human', 'dog', 'tiger'}
  
  ```

- 集合类型有10个操作符

| 操作符                                 | 描述                                                         |
| -------------------------------------- | ------------------------------------------------------------ |
| S – T 或 S.difference(T)               | 返回一个新集合，包括在集合S中但不在集合T中的元素             |
| S-=T或S.difference_update(T)           | 更新集合S，包括在集合S中但不在集合T中的元素                  |
| S & T或S.intersection(T)               | 返回一个新集合，包括同时在集合S和T中的元素                   |
| S&=T或S.intersection_update(T)         | 更新集合S，包括同时在集合S和T中的元素。                      |
| S^T或s.symmetric_difference(T)         | 返回一个新集合，包括集合S和T中元素，但不包括同时在其中的元素 |
| S^=T或s.symmetric_difference_update(T) | 更新集合S，包括集合S和T中元素，但不包括同时在其中的元素      |
| S\|T或S.union(T)                       | 返回一个新集合，包括集合S和T中所有元素                       |
| S\|=T或S.update(T)                     | 更新集合S，包括集合S和T中所有元素                            |
| S<=T或S.issubset(T)                    | 如果S与T相同或S是T的子集，返回True，否则返回False，可以用S<T判断S是否是T的真子集 |
| S>=T或S.issuperset(T)                  | 如果S与T相同或S是T的超集，返回True，否则返回False，可以用S>T判断S是否是T的真超集 |

上述操作符表达了集合类型的4种基本操作，交集（&）、并集（|）、差集（-）、补集（^），操作逻辑与数学定义相同

![image-20191123094853456](C:\Users\廖伟棠\AppData\Roaming\Typora\typora-user-images\image-20191123094853456.png)

- 集合类型有10个操作函数或方法 

| 函数或方法      | 描述                                                   |
| --------------- | ------------------------------------------------------ |
| S.add(x)        | 如果数据项x不在集合S中，将x增加到s                     |
| S.clear()       | 移除S中所有数据项                                      |
| S.copy()        | 返回集合S的一个拷贝                                    |
| S.pop()         | 随机返回集合S中的一个元素，如果S为空，产生KeyError异常 |
| S.discard(x)    | 如果x在集合S中，移除该元素；如果x不在，不报错          |
| S.remove(x)     | 如果x在集合S中，移除该元素；不在产生KeyError异常       |
| S.isdisjoint(T) | 如果集合S与T没有相同元素，返回True                     |
| len(S)          | 返回集合S元素个数                                      |
| x in S          | 如果x是S的元素，返回True，否则返回False                |
| x not in S      | 如果x不是S的元素，返回True，否则返回False              |